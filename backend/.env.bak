# ============================================
# SERVIDOR
# ============================================
PORT=3001
NODE_ENV=development  # development | production | test

# ============================================
# BANCO DE DADOS (PostgreSQL)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=whatsapp_clone
DB_USER=whatsapp_user
DB_PASSWORD=sua_senha_super_segura_aqui
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_POOL_CONNECTION_TIMEOUT=2000

# ============================================
# REDIS (Cache + Filas)
# ============================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379
REDIS_DB=0

# ============================================
# EVOLUTION API (WhatsApp Gateway)
# ============================================
EVOLUTION_API_URL=https://sua-evolution-api.com
EVOLUTION_API_KEY=sua_chave_api_aqui
EVOLUTION_INSTANCE=sua_instancia

# ============================================
# OPENAI (IA Principal)
# ============================================
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxxxxxxx
OPENAI_MODEL_CHAT=gpt-4-turbo-preview
OPENAI_MODEL_EMBEDDING=text-embedding-3-small
OPENAI_MAX_TOKENS=500
OPENAI_TEMPERATURE=0.7

# ============================================
# OLLAMA (IA Local - Opcional)
# ============================================
OLLAMA_ENDPOINT=http://localhost:11434
OLLAMA_MODEL_CHAT=llama3.2
OLLAMA_MODEL_EMBEDDING=nomic-embed-text
EMBEDDING_PROVIDER=openai  # openai | local

# ============================================
# SEGURANÇA & AUTENTICAÇÃO
# ============================================
# Gere um JWT secret forte: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=sua_chave_jwt_super_secreta_256bits_aqui_gere_uma_nova
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# Bcrypt rounds (10-12 recomendado, maior = mais seguro mas mais lento)
BCRYPT_ROUNDS=12

# CORS - Lista de origens permitidas (separadas por vírgula)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,https://seudominio.com

# ============================================
# RATE LIMITING
# ============================================
# Global rate limit
RATE_LIMIT_WINDOW_MS=900000  # 15 minutos em ms
RATE_LIMIT_MAX_REQUESTS=100  # Máximo de requisições por janela

# Auth rate limit (mais restritivo)
RATE_LIMIT_AUTH_MAX=5  # Máximo de tentativas de login

# ============================================
# LOGS
# ============================================
LOG_LEVEL=info  # error | warn | info | http | debug
LOG_DIR=./logs
LOG_MAX_SIZE=5242880  # 5MB em bytes
LOG_MAX_FILES=5

# ============================================
# BACKUP & MANUTENÇÃO
# ============================================
BACKUP_DIR=/var/backups/whatsapp
BACKUP_RETENTION_DAYS=7
DIAS_MANTER_MENSAGENS=365  # Dias para manter mensagens antes de deletar

# ============================================
# FEATURES FLAGS
# ============================================
FEATURE_EMBEDDING=true
FEATURE_RAG=true
FEATURE_AUTO_REPLY=false
FEATURE_SENTIMENT_ANALYSIS=true
FEATURE_ANALYTICS=true

# ============================================
# MONITORAMENTO (Opcional)
# ============================================
# Sentry para error tracking
SENTRY_DSN=

# APM (Application Performance Monitoring)
APM_ENABLED=false
APM_SERVICE_NAME=whatsapp-clone

# New Relic
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=whatsapp-clone

# DataDog
DD_API_KEY=
DD_SERVICE=whatsapp-clone

# ============================================
# FILAS (Bull)
# ============================================
QUEUE_EMBEDDING_CONCURRENCY=5
QUEUE_NOTIFICATION_CONCURRENCY=10
QUEUE_ANALYTICS_CONCURRENCY=3

# ============================================
# FRONTEND (Opcional - usado no build)
# ============================================
VITE_API_URL=http://localhost:3001
VITE_WS_URL=ws://localhost:3001
VITE_APP_NAME=WhatsApp Clone IA
